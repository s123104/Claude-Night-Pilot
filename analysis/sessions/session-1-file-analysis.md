# Session 1: æª”æ¡ˆåˆ†æèˆ‡æ¸…ç†

## ğŸ¯ ä»»å‹™ç›®æ¨™

æª¢æ¸¬ Claude Night Pilot å°ˆæ¡ˆä¸­çš„éæ™‚æª”æ¡ˆã€ç„¡å¼•ç”¨æª”æ¡ˆå’Œé‡è¤‡ä»£ç¢¼ï¼Œæä¾›æ¸…ç†å»ºè­°å’Œè‡ªå‹•åŒ–æ¸…ç†æ–¹æ¡ˆã€‚

## ğŸ“‹ å…·é«”ä»»å‹™

### 1. éæ™‚æª”æ¡ˆæª¢æ¸¬

- åˆ†ææª”æ¡ˆæœ€å¾Œä¿®æ”¹æ™‚é–“
- æª¢æŸ¥æª”æ¡ˆæ˜¯å¦è¢«å…¶ä»–æª”æ¡ˆå¼•ç”¨
- è­˜åˆ¥å·²æ£„ç”¨çš„é…ç½®æª”æ¡ˆ
- æ‰¾å‡ºæ¸¬è©¦æª”æ¡ˆå°æ‡‰çš„å¯¦éš›ä»£ç¢¼æ˜¯å¦å­˜åœ¨

### 2. ç„¡å¼•ç”¨æª”æ¡ˆåˆ†æ

- æƒææ‰€æœ‰ JavaScript/TypeScript æª”æ¡ˆçš„ import/require
- åˆ†æ Rust æª”æ¡ˆçš„ use å’Œ mod è²æ˜
- æª¢æŸ¥ HTML æª”æ¡ˆçš„è³‡æºå¼•ç”¨
- è­˜åˆ¥å­¤ç«‹çš„è³‡æºæª”æ¡ˆ

### 3. é‡è¤‡ä»£ç¢¼æª¢æ¸¬

- åˆ†æç›¸ä¼¼çš„å‡½æ•¸å’Œæ¨¡çµ„
- æª¢æ¸¬é‡è¤‡çš„é…ç½®å’Œå¸¸æ•¸
- æ‰¾å‡ºå¯ä»¥åˆä½µçš„å·¥å…·è…³æœ¬

### 4. ç›®éŒ„çµæ§‹åˆ†æ

- è©•ä¼°ç•¶å‰ç›®éŒ„çµæ§‹çš„åˆç†æ€§
- å»ºè­°æ›´å¥½çš„æª”æ¡ˆçµ„ç¹”æ–¹å¼
- è­˜åˆ¥å¯ä»¥ç°¡åŒ–çš„ç›®éŒ„å±¤ç´š

## ğŸ”§ åˆ†æå·¥å…·

### æª”æ¡ˆä¾è³´åˆ†æ

```bash
# JavaScript/TypeScript ä¾è³´åˆ†æ
npx madge --image deps.svg src/
npx dependency-cruiser --output-type dot src/ | dot -T svg > deps.svg

# æª”æ¡ˆå¼•ç”¨æª¢æŸ¥
find . -name "*.js" -o -name "*.ts" -o -name "*.rs" | xargs grep -l "import\|require\|use\|mod"
```

### éæ™‚æª”æ¡ˆæª¢æ¸¬

```bash
# æ‰¾å‡ºè¶…é 30 å¤©æœªä¿®æ”¹çš„æª”æ¡ˆ
find . -type f -mtime +30 -not -path "./node_modules/*" -not -path "./target/*"

# æª¢æŸ¥ Git æ­·å²ä¸­é•·æœŸæœªè®Šæ›´çš„æª”æ¡ˆ
git log --name-only --since="3 months ago" | sort | uniq -c | sort -n
```

### é‡è¤‡ä»£ç¢¼æª¢æ¸¬

```bash
# ä½¿ç”¨ jscpd æª¢æ¸¬ JavaScript é‡è¤‡ä»£ç¢¼
npx jscpd src/

# ä½¿ç”¨è‡ªå®šç¾©è…³æœ¬æª¢æ¸¬ Rust é‡è¤‡ä»£ç¢¼
```

## ğŸ“Š è¼¸å‡ºæ ¼å¼

### åˆ†æå ±å‘Šçµæ§‹

```json
{
  "analysis_timestamp": "2025-08-14T03:00:00Z",
  "obsolete_files": [
    {
      "path": "path/to/file",
      "last_modified": "2024-01-01",
      "reason": "No references found",
      "confidence": 0.95
    }
  ],
  "unreferenced_files": [
    {
      "path": "path/to/file",
      "type": "javascript",
      "size": 1024,
      "potential_impact": "low"
    }
  ],
  "duplicate_code": [
    {
      "files": ["file1.js", "file2.js"],
      "similarity": 0.85,
      "lines": 50,
      "suggestion": "Extract to common module"
    }
  ],
  "directory_suggestions": [
    {
      "current": "src/utils/helpers/",
      "suggested": "src/lib/",
      "reason": "Simplify nested structure"
    }
  ]
}
```

## ğŸš€ åŸ·è¡Œæ­¥é©Ÿ

1. **åˆå§‹æƒæ**: å»ºç«‹å°ˆæ¡ˆæª”æ¡ˆæ¸…å–®
2. **ä¾è³´åˆ†æ**: åˆ†ææ‰€æœ‰æª”æ¡ˆé–“çš„ä¾è³´é—œä¿‚
3. **å¼•ç”¨æª¢æŸ¥**: æª¢æŸ¥æ¯å€‹æª”æ¡ˆæ˜¯å¦è¢«å¼•ç”¨
4. **æ™‚é–“åˆ†æ**: åˆ†ææª”æ¡ˆä¿®æ”¹æ™‚é–“å’Œ Git æ­·å²
5. **é‡è¤‡æª¢æ¸¬**: æª¢æ¸¬é‡è¤‡ä»£ç¢¼å’Œé…ç½®
6. **å ±å‘Šç”Ÿæˆ**: ç”Ÿæˆè©³ç´°çš„åˆ†æå ±å‘Š
7. **æ¸…ç†å»ºè­°**: æä¾›è‡ªå‹•åŒ–æ¸…ç†è…³æœ¬

## ğŸ“ é æœŸæˆæœ

- **æª”æ¡ˆæ¸…ç†æ¸…å–®**: å¯å®‰å…¨åˆªé™¤çš„æª”æ¡ˆåˆ—è¡¨
- **é‡æ§‹å»ºè­°**: ç›®éŒ„çµæ§‹å„ªåŒ–å»ºè­°
- **è‡ªå‹•åŒ–è…³æœ¬**: ä¸€éµæ¸…ç†è…³æœ¬
- **é¢¨éšªè©•ä¼°**: æ¯å€‹æ¸…ç†æ“ä½œçš„é¢¨éšªç­‰ç´š
