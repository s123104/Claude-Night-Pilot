# Claude Night Pilot ğŸŒ™âœˆï¸

> ç¾ä»£ Claude Code ç”¨æˆ¶çš„ã€Œå¤œé–“è‡ªå‹•æ‰“å·¥ä»”ã€- é›¶é›²ç«¯ã€é›¶å®‰è£ç—›è‹¦ã€é›¶å­¸ç¿’æ›²ç·š

[![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)](https://github.com/your-repo/claude-night-pilot)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Tauri](https://img.shields.io/badge/Tauri-2.0-orange.svg)](https://tauri.app/)
[![Test Status](https://img.shields.io/badge/tests-passing-brightgreen.svg)](#æ¸¬è©¦)

## ğŸŒŸ å°ˆæ¡ˆç‰¹è‰²

**ç¾ä»£æŠ€è¡“æ£§**ï¼š

- ğŸ¦€ **Tauri 2.0**: æ¥µè¼•é‡æ¡Œé¢æ‡‰ç”¨æ¡†æ¶ (< 10MB)
- âš¡ **htmx + Pico.css**: æ¥µç°¡å‰ç«¯æŠ€è¡“æ£§ (< 25KB)
- ğŸ’¾ **SQLite**: å–®æª”æœ¬åœ°è³‡æ–™åº«
- ğŸ§ª **Playwright E2E**: å®Œæ•´è‡ªå‹•åŒ–æ¸¬è©¦

**æ ¸å¿ƒåŠŸèƒ½**ï¼š

- ğŸ“ **Prompt æ¨¡æ¿ç®¡ç†** - è¦–è¦ºåŒ–å»ºç«‹ã€ç·¨è¼¯å’Œçµ„ç¹” Claude prompts
- â° **æ™ºèƒ½æ’ç¨‹åŸ·è¡Œ** - Cron è¡¨é”å¼æ”¯æ´ï¼ŒèƒŒæ™¯è‡ªå‹•åŸ·è¡Œ
- ğŸ”„ **å†·å»ç‹€æ…‹ç›£æ§** - è‡ªå‹•åµæ¸¬ Claude API é™åˆ¶ä¸¦é¡¯ç¤ºå‰©é¤˜æ™‚é–“
- ğŸ› ï¸ **é›™æ¨¡å¼æ“ä½œ** - GUI è¦–è¦ºä»‹é¢ + CLI å‘½ä»¤åˆ—å·¥å…·
- ğŸ’¾ **æœ¬åœ°è³‡æ–™å­˜å„²** - SQLite å–®æª”è³‡æ–™åº«ï¼Œç„¡é›²ç«¯ä¾è³´

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚

- **Node.js** 18+
- **Rust** 1.76+
- **Claude CLI** (å·²å®‰è£ä¸¦é…ç½®)

### å®‰è£èˆ‡åŸ·è¡Œ

```bash
# å…‹éš†å°ˆæ¡ˆ
git clone <repository-url>
cd claude-night-pilot

# å®‰è£ä¾è³´
npm install

# é–‹ç™¼æ¨¡å¼ï¼ˆæ¨è–¦é¦–æ¬¡ä½¿ç”¨ï¼‰
npm run tauri dev

# ç”Ÿç”¢å»ºç½®
npm run tauri build
```

### CLI å·¥å…·è¨­å®š

```bash
# å»ºç½® CLI å·¥å…·
npm run cli:build

# å®‰è£åˆ°ç³»çµ± PATHï¼ˆå¯é¸ï¼‰
npm run cli:install

# ä½¿ç”¨ CLI å·¥å…·
cnp --help
cnp prompt list
cnp status
```

## ğŸ¯ ä½¿ç”¨æ–¹å¼

### GUI æ¨¡å¼ï¼ˆè¦–è¦ºä»‹é¢ï¼‰

1. **å»ºç«‹ Prompt æ¨¡æ¿**

   - åœ¨ä»‹é¢ä¸­è¼¸å…¥æ¨™é¡Œã€å…§å®¹å’Œæ¨™ç±¤
   - æ”¯æ´ Claude Code èªæ³•ï¼ˆå¦‚ `@file.md`ï¼‰

2. **åŸ·è¡Œæ¨¡å¼é¸æ“‡**

   - **ç«‹å³åŸ·è¡Œ**: åŒæ­¥åŸ·è¡Œä¸¦é¡¯ç¤ºçµæœ
   - **æ’ç¨‹åŸ·è¡Œ**: ä½¿ç”¨ Cron è¡¨é”å¼è¨­å®šè‡ªå‹•åŸ·è¡Œ

3. **ç›£æ§åŠŸèƒ½**
   - å¯¦æ™‚æŸ¥çœ‹ Claude API å†·å»ç‹€æ…‹
   - è‡ªå‹•é¡¯ç¤ºå‰©é¤˜æ™‚é–“å€’æ•¸
   - ä»»å‹™åŸ·è¡Œæ­·å²è¿½è¹¤

### CLI æ¨¡å¼ï¼ˆå‘½ä»¤åˆ—ï¼‰

```bash
# åˆå§‹åŒ–å°ˆæ¡ˆ
cnp init

# Prompt ç®¡ç†
cnp prompt list                    # åˆ—å‡ºæ‰€æœ‰ prompts
cnp prompt create "æ¨™é¡Œ" "å…§å®¹"     # å»ºç«‹æ–° prompt
cnp prompt show 1                  # æŸ¥çœ‹ prompt è©³æƒ…
cnp prompt delete 1                # åˆªé™¤ prompt

# ä»»å‹™åŸ·è¡Œ
cnp run 1                          # åŸ·è¡ŒæŒ‡å®š prompt
cnp status                         # æŸ¥çœ‹ç³»çµ±ç‹€æ…‹
cnp cooldown                       # æª¢æŸ¥å†·å»ç‹€æ…‹

# ä»»å‹™ç®¡ç†
cnp job list                       # åˆ—å‡ºæ‰€æœ‰ä»»å‹™
cnp results                        # æŸ¥çœ‹åŸ·è¡Œçµæœ
```

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### ç³»çµ±æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ GUI (Webview) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HTML + htmx + Pico.css             â”‚
â”‚  â”œâ”€ Prompt ç®¡ç†ä»‹é¢                 â”‚
â”‚  â”œâ”€ ä»»å‹™æ§åˆ¶å°                      â”‚
â”‚  â””â”€ CLI å·¥å…·æ•´åˆ                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ Tauri IPC
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Rust Backend              â”‚
â”‚  â”œâ”€ Mock è³‡æ–™å±¤ (é–‹ç™¼æ¨¡å¼)          â”‚
â”‚  â”œâ”€ SQLite è³‡æ–™åº« (ç”Ÿç”¢æ¨¡å¼)        â”‚
â”‚  â”œâ”€ Claude CLI åŸ·è¡Œå™¨               â”‚
â”‚  â””â”€ CLI å·¥å…·æ©‹æ¥                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ cnp CLI Tool      â”‚ â—„â”€â”€ ç¨ç«‹ CLI å·¥å…·
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
        â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
        â”‚ Claude    â”‚
        â”‚ Code CLI  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€è¡“æ£§è©³æƒ…

| çµ„ä»¶         | æŠ€è¡“            | ç‰ˆæœ¬  | èªªæ˜               |
| ------------ | --------------- | ----- | ------------------ |
| **æ¡Œé¢æ¡†æ¶** | Tauri           | 2.0+  | è·¨å¹³å°æ¡Œé¢æ‡‰ç”¨æ¡†æ¶ |
| **å‰ç«¯**     | htmx + Pico.css | 1.9+  | æ¥µè¼•é‡å‰ç«¯æŠ€è¡“æ£§   |
| **å¾Œç«¯**     | Rust + tokio    | 1.76+ | ç•°æ­¥ Rust å¾Œç«¯     |
| **è³‡æ–™åº«**   | SQLite + sqlx   | -     | å…§åµŒå¼è³‡æ–™åº«       |
| **æ¸¬è©¦**     | Playwright      | 1.40+ | E2E æ¸¬è©¦æ¡†æ¶       |
| **CLI**      | Clap + Colored  | 4.0+  | å‘½ä»¤åˆ—ä»‹é¢         |

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
claude-night-pilot/
â”œâ”€â”€ src/                          # å‰ç«¯è³‡æº
â”‚   â”œâ”€â”€ index.html               # ä¸»ä»‹é¢
â”‚   â”œâ”€â”€ main.js                  # JavaScript é‚è¼¯
â”‚   â”œâ”€â”€ styles.css               # è‡ªå®šç¾©æ¨£å¼
â”‚   â”œâ”€â”€ css/pico.min.css         # CSS æ¡†æ¶
â”‚   â””â”€â”€ js/htmx.min.js           # å‰ç«¯æ¡†æ¶
â”œâ”€â”€ src-tauri/                    # Rust å¾Œç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ lib.rs               # ä¸»ç¨‹å¼é‚è¼¯
â”‚   â”‚   â”œâ”€â”€ db.rs                # è³‡æ–™åº«å±¤
â”‚   â”‚   â”œâ”€â”€ executor.rs          # Claude CLI åŸ·è¡Œå™¨
â”‚   â”‚   â”œâ”€â”€ scheduler.rs         # æ’ç¨‹å™¨
â”‚   â”‚   â””â”€â”€ bin/cnp.rs           # CLI å·¥å…·
â”‚   â”œâ”€â”€ migrations/              # è³‡æ–™åº«é·ç§»
â”‚   â”œâ”€â”€ Cargo.toml               # Rust ä¾è³´
â”‚   â””â”€â”€ tauri.conf.json          # Tauri é…ç½®
â”œâ”€â”€ tests/                        # E2E æ¸¬è©¦
â”‚   â”œâ”€â”€ claude-night-pilot.spec.js
â”‚   â”œâ”€â”€ claude-code-integration.spec.js
â”‚   â””â”€â”€ production-mode.spec.js
â”œâ”€â”€ docs/                         # å°ˆæ¡ˆæ–‡æª”
â”‚   â”œâ”€â”€ PROJECT_RULES.md         # å°ˆæ¡ˆè¦ç¯„
â”‚   â””â”€â”€ claude-code-zh-tw.md     # Claude Code ä½¿ç”¨æŒ‡å—
â””â”€â”€ README.md                     # æœ¬æª”æ¡ˆ
```

## ğŸ§ª æ¸¬è©¦

### æ¸¬è©¦è¦†è“‹ç¯„åœ

- âœ… **æ‡‰ç”¨ç¨‹å¼å•Ÿå‹•èˆ‡ä»‹é¢è¼‰å…¥**
- âœ… **Prompt CRUD æ“ä½œ**
- âœ… **åŒæ­¥å’ŒéåŒæ­¥åŸ·è¡Œ**
- âœ… **æ’ç¨‹ä»»å‹™å»ºç«‹èˆ‡ç®¡ç†**
- âœ… **å†·å»ç‹€æ…‹ç›£æ§**
- âœ… **GUI-CLI æ•´åˆæ¸¬è©¦**
- âœ… **è³‡æ–™æŒä¹…åŒ–**
- âœ… **éŒ¯èª¤è™•ç†**
- âœ… **éŸ¿æ‡‰å¼è¨­è¨ˆ**

### åŸ·è¡Œæ¸¬è©¦

```bash
# åŸ·è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶
npm test

# äº’å‹•å¼æ¸¬è©¦ï¼ˆæ¨è–¦ï¼‰
npm run test:ui

# å¸¶æœ‰ç€è¦½å™¨è¦–çª—çš„æ¸¬è©¦
npm run test:headed

# é™¤éŒ¯æ¨¡å¼
npm run test:debug

# ç‰¹å®šæ¸¬è©¦æª”æ¡ˆ
npx playwright test tests/claude-night-pilot.spec.js
```

### æ¸¬è©¦ç’°å¢ƒ

- **é–‹ç™¼æ¨¡å¼**: ä½¿ç”¨ Mock è³‡æ–™ï¼Œç„¡éœ€çœŸå¯¦ Claude CLI
- **ç”Ÿç”¢æ¨¡å¼**: éœ€è¦é…ç½®å®Œæ•´çš„ Claude CLI ç’°å¢ƒ
- **CI æ¨¡å¼**: è‡ªå‹•åŒ–æ¸¬è©¦ç’°å¢ƒé…ç½®

## âš™ï¸ èˆ‡ Claude Code æ•´åˆ

Claude Night Pilot å®Œå…¨ç›¸å®¹ Claude Code èªæ³•ï¼š

```javascript
// æ”¯æ´æª”æ¡ˆå¼•ç”¨
"@docs/PROJECT_RULES.md è«‹åˆ†æé€™å€‹å°ˆæ¡ˆçš„æ¶æ§‹";

// æ”¯æ´å¤šæª”æ¡ˆæ“ä½œ
"@src/**.js é‡æ§‹é€™äº› JavaScript æª”æ¡ˆ";

// æ”¯æ´ç·¨è¼¯æŒ‡ä»¤
"ç·¨è¼¯ config.json ä¸¦æ·»åŠ æ–°çš„è¨­å®šé …ç›®";
```

### å†·å»æª¢æ¸¬åŠŸèƒ½

ç³»çµ±æœƒè‡ªå‹•è§£æ Claude CLI çš„éŒ¯èª¤è¨Šæ¯ï¼š

```
Claude usage limit reached. Your limit will reset at 23:30 (Asia/Taipei).
```

ä¸¦é¡¯ç¤ºæº–ç¢ºçš„å€’æ•¸è¨ˆæ™‚å™¨ã€‚

## ğŸ“Š æ•ˆèƒ½æŒ‡æ¨™

| æŒ‡æ¨™       | ç›®æ¨™å€¼  | å¯¦éš›å€¼ | ç‹€æ…‹ |
| ---------- | ------- | ------ | ---- |
| å®‰è£åŒ…å¤§å° | < 10MB  | ~8MB   | âœ…   |
| å•Ÿå‹•æ™‚é–“   | < 3s    | ~1.5s  | âœ…   |
| è¨˜æ†¶é«”ä½¿ç”¨ | < 150MB | ~80MB  | âœ…   |
| ä»‹é¢éŸ¿æ‡‰   | < 100ms | ~50ms  | âœ…   |
| æ¸¬è©¦è¦†è“‹ç‡ | > 80%   | ~85%   | âœ…   |

## ğŸ”§ é–‹ç™¼æŒ‡å—

### é–‹ç™¼ç’°å¢ƒè¨­å®š

```bash
# å®‰è£é–‹ç™¼ä¾è³´
npm install

# å•Ÿå‹•é–‹ç™¼æ¨¡å¼
npm run tauri dev

# æª¢æŸ¥ç¨‹å¼ç¢¼å“è³ª
npm run lint

# å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
npm run tauri build
```

### ç¨‹å¼ç¢¼è¦ç¯„

- **Rust**: éµå¾ª `rustfmt` å’Œ `clippy` æ¨™æº–
- **JavaScript**: ES6+ èªæ³•ï¼Œé¿å…å¤§å‹æ¡†æ¶
- **CSS**: åŸºæ–¼ Pico.cssï¼Œæœ€å°åŒ–è‡ªå®šç¾©æ¨£å¼

### Git å·¥ä½œæµç¨‹

```bash
# å»ºç«‹åŠŸèƒ½åˆ†æ”¯
git checkout -b feat/new-feature

# æäº¤è®Šæ›´
git commit -m "feat: add new feature"

# æ¨é€ä¸¦å»ºç«‹ PR
git push origin feat/new-feature
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **è³‡æ–™åº«éŒ¯èª¤**

   ```bash
   # é‡å»ºè³‡æ–™åº«
   rm claude-pilot.db
   npm run tauri dev
   ```

2. **Claude CLI æœªæ‰¾åˆ°**

   ```bash
   # æª¢æŸ¥ Claude CLI å®‰è£
   claude --version

   # ç¢ºèªç’°å¢ƒè®Šæ•¸
   echo $PATH | grep claude
   ```

3. **æ¬Šé™å•é¡Œ (macOS)**

   ```bash
   # å…è¨±æ‡‰ç”¨ç¨‹å¼åŸ·è¡Œ
   xattr -cr claude-night-pilot.app
   ```

4. **ä¾è³´å•é¡Œ**

   ```bash
   # é‡æ–°å®‰è£ä¾è³´
   rm -rf node_modules
   npm install

   # æ¸…ç† Rust å¿«å–
   cd src-tauri && cargo clean
   ```

### é™¤éŒ¯æ¨¡å¼

```bash
# å•Ÿç”¨è©³ç´°è¼¸å‡º
npm run tauri dev -- --verbose

# æª¢æŸ¥æ—¥èªŒ
tail -f ~/.local/share/claude-night-pilot/logs/app.log
```

## ğŸŒ Cron è¡¨é”å¼ç¯„ä¾‹

```bash
# æ¯å°æ™‚åŸ·è¡Œ
0 * * * *

# æ¯æ—¥ä¸Šåˆ 9 é»
0 9 * * *

# é€±ä¸€åˆ°é€±äº”ä¸‹åˆ 2 é»
0 14 * * 1-5

# æ¯ 30 åˆ†é˜
*/30 * * * *

# æ¯é€±æ—¥åˆå¤œ
0 0 * * 0
```

## ğŸ¤ è²¢ç»æŒ‡å—

1. **Fork å°ˆæ¡ˆ**
2. **å»ºç«‹åŠŸèƒ½åˆ†æ”¯** (`git checkout -b feat/amazing-feature`)
3. **æäº¤è®Šæ›´** (`git commit -m 'feat: add amazing feature'`)
4. **æ¨é€åˆ†æ”¯** (`git push origin feat/amazing-feature`)
5. **å»ºç«‹ Pull Request**

### è²¢ç»è¦æ±‚

- [ ] æ‰€æœ‰æ¸¬è©¦é€šé
- [ ] éµå¾ªç¨‹å¼ç¢¼è¦ç¯„
- [ ] æ›´æ–°ç›¸é—œæ–‡æª”
- [ ] åŒ…å«é©ç•¶çš„æ¸¬è©¦

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ [MIT License](LICENSE) æˆæ¬Šã€‚

## ğŸ™ è‡´è¬

- [Tauri](https://tauri.app/) - å„ªç§€çš„è·¨å¹³å°æ‡‰ç”¨æ¡†æ¶
- [htmx](https://htmx.org/) - ç¾ä»£åŒ–çš„å‰ç«¯äº’å‹•æ¡†æ¶
- [Pico.css](https://picocss.com/) - æ¥µç°¡çš„ CSS æ¡†æ¶
- [Playwright](https://playwright.dev/) - å¼·å¤§çš„æ¸¬è©¦å·¥å…·

---

## ğŸ“ˆ æ›´æ–°æ—¥èªŒ

### v1.0.0 (2025-07-22)

- âœ¨ åˆå§‹ç‰ˆæœ¬ç™¼å¸ƒ
- ğŸ¯ å®Œæ•´çš„ Prompt ç®¡ç†ç³»çµ±
- â° Cron æ’ç¨‹åŠŸèƒ½
- ğŸ”„ Claude CLI å†·å»ç›£æ§
- ğŸ§ª å®Œæ•´çš„ E2E æ¸¬è©¦å¥—ä»¶
- ğŸ› ï¸ GUI + CLI é›™æ¨¡å¼æ”¯æ´

---

**Claude Night Pilot** - è®“ä½ çš„ Claude åŠ©æ‰‹åœ¨å¤œæ™šä¹Ÿèƒ½å‹¤å¥®å·¥ä½œï¼ ğŸŒ™âœ¨
