<!DOCTYPE html>
<html lang="zh-TW" data-theme="auto">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Claude Night Pilot ğŸŒ™âœˆï¸</title>

    <!-- Material Design 3.0 Icons - å®Œæ•´å°å…¥ -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
      rel="stylesheet"
    />

    <!-- Google Fonts for Material Design Typography -->
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />

    <!-- Pico CSS -->
    <link rel="stylesheet" href="css/pico.min.css" />

    <!-- Material Design 3.0 Custom Styles -->
    <link rel="stylesheet" href="styles.css" />

    <!-- HTMX for enhanced interactivity -->
    <script src="js/htmx.min.js"></script>

    <!-- Material Design Color Utilities -->
    <style>
      :root {
        /* Material Design 3.0 Color System */
        --md-sys-color-primary: #2196f3;
        --md-sys-color-on-primary: #ffffff;
        --md-sys-color-primary-container: #d0e8ff;
        --md-sys-color-on-primary-container: #001e30;

        --md-sys-color-secondary: #006a6b;
        --md-sys-color-on-secondary: #ffffff;
        --md-sys-color-secondary-container: #6ff7f6;
        --md-sys-color-on-secondary-container: #002020;

        --md-sys-color-tertiary: #7d5260;
        --md-sys-color-on-tertiary: #ffffff;

        --md-sys-color-surface: #fef7ff;
        --md-sys-color-on-surface: #1d1b20;
        --md-sys-color-surface-variant: #e7e0ec;
        --md-sys-color-on-surface-variant: #49454f;

        --md-sys-color-background: #fef7ff;
        --md-sys-color-on-background: #1d1b20;

        --md-sys-color-error: #ba1a1a;
        --md-sys-color-on-error: #ffffff;
        --md-sys-color-error-container: #ffdad6;
        --md-sys-color-on-error-container: #410002;

        --md-sys-color-outline: #79747e;
        --md-sys-color-outline-variant: #cac4d0;

        /* Material Design Typography Scale */
        --md-sys-typescale-display-large: 700 57px/64px "Roboto", sans-serif;
        --md-sys-typescale-display-medium: 400 45px/52px "Roboto", sans-serif;
        --md-sys-typescale-display-small: 400 36px/44px "Roboto", sans-serif;
        --md-sys-typescale-headline-large: 400 32px/40px "Roboto", sans-serif;
        --md-sys-typescale-headline-medium: 400 28px/36px "Roboto", sans-serif;
        --md-sys-typescale-headline-small: 400 24px/32px "Roboto", sans-serif;
        --md-sys-typescale-title-large: 400 22px/28px "Roboto", sans-serif;
        --md-sys-typescale-title-medium: 500 16px/24px "Roboto", sans-serif;
        --md-sys-typescale-title-small: 500 14px/20px "Roboto", sans-serif;
        --md-sys-typescale-body-large: 400 16px/24px "Roboto", sans-serif;
        --md-sys-typescale-body-medium: 400 14px/20px "Roboto", sans-serif;
        --md-sys-typescale-body-small: 400 12px/16px "Roboto", sans-serif;
        --md-sys-typescale-label-large: 500 14px/20px "Roboto", sans-serif;
        --md-sys-typescale-label-medium: 500 12px/16px "Roboto", sans-serif;
        --md-sys-typescale-label-small: 500 11px/16px "Roboto", sans-serif;

        /* Material Design Shape Scale */
        --md-sys-shape-corner-extra-small: 4px;
        --md-sys-shape-corner-small: 8px;
        --md-sys-shape-corner-medium: 12px;
        --md-sys-shape-corner-large: 16px;
        --md-sys-shape-corner-extra-large: 28px;

        /* Material Design Elevation */
        --md-sys-elevation-level0: none;
        --md-sys-elevation-level1: 0px 1px 2px 0px rgba(0, 0, 0, 0.3),
          0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        --md-sys-elevation-level2: 0px 1px 2px 0px rgba(0, 0, 0, 0.3),
          0px 2px 6px 2px rgba(0, 0, 0, 0.15);
        --md-sys-elevation-level3: 0px 1px 3px 0px rgba(0, 0, 0, 0.3),
          0px 4px 8px 3px rgba(0, 0, 0, 0.15);
        --md-sys-elevation-level4: 0px 2px 3px 0px rgba(0, 0, 0, 0.3),
          0px 6px 10px 4px rgba(0, 0, 0, 0.15);
        --md-sys-elevation-level5: 0px 4px 4px 0px rgba(0, 0, 0, 0.3),
          0px 8px 12px 6px rgba(0, 0, 0, 0.15);
      }

      /* Enhanced Dark Theme Material Design Colors - 2025 Standards */
      [data-theme="dark"] {
        --md-sys-color-primary: #a1c8ff;
        --md-sys-color-on-primary: #003258;
        --md-sys-color-primary-container: #004881;
        --md-sys-color-on-primary-container: #d0e8ff;

        --md-sys-color-secondary: #4dd0d1;
        --md-sys-color-on-secondary: #003738;
        --md-sys-color-secondary-container: #004f51;
        --md-sys-color-on-secondary-container: #6ff7f6;

        --md-sys-color-tertiary: #e0b1cc;
        --md-sys-color-on-tertiary: #422930;
        --md-sys-color-tertiary-container: #5a3f47;
        --md-sys-color-on-tertiary-container: #fdd7e8;

        --md-sys-color-surface: #0f0d13;
        --md-sys-color-on-surface: #e6e0e9;
        --md-sys-color-surface-variant: #49454f;
        --md-sys-color-on-surface-variant: #cac4d0;

        --md-sys-color-background: #0f0d13;
        --md-sys-color-on-background: #e6e0e9;

        --md-sys-color-error: #ffb4ab;
        --md-sys-color-on-error: #690005;
        --md-sys-color-error-container: #93000a;
        --md-sys-color-on-error-container: #ffdad6;

        --md-sys-color-outline: #938f99;
        --md-sys-color-outline-variant: #49454f;

        /* Enhanced gradients for dark theme */
        --md-ref-palette-primary60: #79c4ff;
        --md-ref-palette-primary70: #a1c8ff;
      }
    </style>
  </head>
  <body>
    <!-- Material Design Loading Overlay with Progress Indicator -->
    <div id="app-loader" class="app-loader md-elevation-level5">
      <div class="loader-content">
        <div class="loader-icon">
          <span class="material-symbols-rounded pulse">flight</span>
        </div>
        <h2 class="md-typescale-headline-medium">Claude Night Pilot</h2>
        <p class="md-typescale-body-large">æ­£åœ¨å•Ÿå‹•æ‚¨çš„å¤œé–“è‡ªå‹•æ‰“å·¥ä»”...</p>

        <!-- Material Design Linear Progress Indicator -->
        <div class="md-linear-progress">
          <div class="md-linear-progress-track">
            <div class="md-linear-progress-indicator"></div>
          </div>
        </div>

        <!-- Loading Steps Indicator -->
        <div class="loading-steps">
          <span class="step-indicator active" data-step="1">
            <span class="material-symbols-outlined">terminal</span>
          </span>
          <span class="step-indicator" data-step="2">
            <span class="material-symbols-outlined">database</span>
          </span>
          <span class="step-indicator" data-step="3">
            <span class="material-symbols-outlined">api</span>
          </span>
          <span class="step-indicator" data-step="4">
            <span class="material-symbols-outlined">check_circle</span>
          </span>
        </div>
      </div>
    </div>

    <!-- Main App Container with Material Design Structure -->
    <div id="app" class="app-container md-surface" style="display: none">
      <!-- Material Design Top App Bar -->
      <header class="md-top-app-bar md-elevation-level2">
        <div class="md-top-app-bar-content">
          <!-- Leading Section -->
          <div class="md-top-app-bar-leading">
            <div class="brand-section">
              <span class="material-symbols-rounded brand-icon">flight</span>
              <div class="brand-text">
                <h1 class="md-typescale-title-large">Claude Night Pilot</h1>
                <span class="md-typescale-label-medium brand-subtitle"
                  >å¤œé–“è‡ªå‹•æ‰“å·¥ä»”</span
                >
              </div>
            </div>
          </div>

          <!-- Trailing Section -->
          <div class="md-top-app-bar-trailing">
            <!-- Status Indicators -->
            <div class="status-indicators">
              <!-- CLI Status -->
              <div id="cli-status" class="md-status-chip" title="CLI æ•´åˆç‹€æ…‹">
                <span class="material-symbols-outlined status-icon"
                  >terminal</span
                >
                <span class="status-text md-typescale-label-medium"
                  >CLI å·²å•Ÿç”¨</span
                >
              </div>

              <!-- Cooldown Status -->
              <div
                id="cooldown-status"
                class="md-status-chip cooldown-status"
                data-testid="cooldown-status"
                title="Claude API ç‹€æ…‹"
              >
                <span class="material-symbols-outlined status-icon"
                  >schedule</span
                >
                <span class="status-text md-typescale-label-medium"
                  >æª¢æŸ¥ä¸­...</span
                >
              </div>
            </div>

            <!-- Action Buttons -->
            <div class="md-top-app-bar-actions">
              <!-- Theme Toggle -->
              <button
                id="theme-toggle"
                class="md-icon-button"
                title="åˆ‡æ›ä¸»é¡Œ"
                aria-label="åˆ‡æ›æ˜æš—ä¸»é¡Œ"
              >
                <span class="material-symbols-outlined">light_mode</span>
              </button>

              <!-- Settings -->
              <button
                id="settings-btn"
                class="md-icon-button"
                title="è¨­å®š"
                aria-label="é–‹å•Ÿè¨­å®š"
              >
                <span class="material-symbols-outlined">settings</span>
              </button>

              <!-- More Options -->
              <button
                id="more-options-btn"
                class="md-icon-button"
                title="æ›´å¤šé¸é …"
                aria-label="æ›´å¤šé¸é …"
              >
                <span class="material-symbols-outlined">more_vert</span>
              </button>
            </div>
          </div>
        </div>
      </header>

      <!-- Material Design Navigation Rail + Content -->
      <div class="app-body">
        <!-- Navigation Rail (å´é‚Šå°èˆª) -->
        <nav class="md-navigation-rail md-elevation-level1">
          <div class="md-navigation-rail-content">
            <!-- Navigation Items -->
            <div class="md-navigation-rail-items">
              <button class="md-navigation-rail-item active" data-tab="prompts">
                <span class="material-symbols-outlined">chat</span>
                <span class="md-typescale-label-medium">Prompt</span>
              </button>
              <button class="md-navigation-rail-item" data-tab="scheduler">
                <span class="material-symbols-outlined">schedule</span>
                <span class="md-typescale-label-medium">æ’ç¨‹</span>
              </button>
              <button class="md-navigation-rail-item" data-tab="results">
                <span class="material-symbols-outlined">analytics</span>
                <span class="md-typescale-label-medium">çµæœ</span>
              </button>
              <button class="md-navigation-rail-item" data-tab="system">
                <span class="material-symbols-outlined">monitoring</span>
                <span class="md-typescale-label-medium">ç›£æ§</span>
              </button>
              <button class="md-navigation-rail-item" data-tab="testing">
                <span class="material-symbols-outlined">science</span>
                <span class="md-typescale-label-medium">æ¸¬è©¦</span>
              </button>
            </div>
          </div>
        </nav>

        <!-- Main Content Area -->
        <main class="md-main-content">
          <!-- Tab Content Panels -->
          <div class="md-tab-content">
            <!-- Prompts Tab -->
            <section id="prompts-tab" class="md-tab-panel active">
              <div class="md-section-header">
                <div class="section-title">
                  <h2 class="md-typescale-headline-medium">
                    <span class="material-symbols-outlined">chat</span>
                    Prompt ç®¡ç†
                  </h2>
                  <p class="md-typescale-body-medium section-subtitle">
                    ç®¡ç†æ‚¨çš„ Claude æç¤ºæ¨¡æ¿
                  </p>
                </div>

                <!-- Floating Action Button -->
                <button
                  id="create-prompt-fab"
                  class="md-fab md-elevation-level3"
                  data-testid="create-prompt"
                >
                  <span class="material-symbols-outlined">add</span>
                </button>
              </div>

              <!-- Prompts Grid -->
              <div
                class="md-card-grid"
                id="prompts-list"
                data-testid="prompt-list"
              >
                <!-- Loading Skeleton -->
                <div class="md-loading-skeleton">
                  <div class="md-skeleton-card"></div>
                  <div class="md-skeleton-card"></div>
                  <div class="md-skeleton-card"></div>
                </div>
              </div>
            </section>

            <!-- Scheduler Tab -->
            <section id="scheduler-tab" class="md-tab-panel">
              <div class="md-section-header">
                <div class="section-title">
                  <h2 class="md-typescale-headline-medium">
                    <span class="material-symbols-outlined">schedule</span>
                    æ’ç¨‹ä»»å‹™
                  </h2>
                  <p class="md-typescale-body-medium section-subtitle">
                    è‡ªå‹•åŒ–åŸ·è¡Œ Prompt ä»»å‹™
                  </p>
                </div>

                <button id="create-job-fab" class="md-fab md-elevation-level3">
                  <span class="material-symbols-outlined">add_task</span>
                </button>
              </div>

              <!-- Jobs List -->
              <div class="md-list-container" id="jobs-list">
                <div class="md-loading-skeleton">
                  <div class="md-skeleton-list-item"></div>
                  <div class="md-skeleton-list-item"></div>
                  <div class="md-skeleton-list-item"></div>
                </div>
              </div>
            </section>

            <!-- Results Tab -->
            <section id="results-tab" class="md-tab-panel">
              <div class="md-section-header">
                <div class="section-title">
                  <h2 class="md-typescale-headline-medium">
                    <span class="material-symbols-outlined">analytics</span>
                    åŸ·è¡Œçµæœ
                  </h2>
                  <p class="md-typescale-body-medium section-subtitle">
                    æŸ¥çœ‹ Prompt åŸ·è¡Œçµæœå’Œæ­·å²è¨˜éŒ„
                  </p>
                </div>

                <!-- Filter Controls -->
                <div class="md-filter-controls">
                  <select id="results-filter" class="md-select">
                    <option value="">æ‰€æœ‰çµæœ</option>
                    <option value="success">æˆåŠŸ</option>
                    <option value="error">éŒ¯èª¤</option>
                    <option value="pending">é€²è¡Œä¸­</option>
                  </select>
                </div>
              </div>

              <!-- Results List -->
              <div class="md-list-container" id="results-list">
                <div class="md-loading-skeleton">
                  <div class="md-skeleton-list-item"></div>
                  <div class="md-skeleton-list-item"></div>
                </div>
              </div>
            </section>

            <!-- System Tab -->
            <section id="system-tab" class="md-tab-panel">
              <div class="md-section-header">
                <div class="section-title">
                  <h2 class="md-typescale-headline-medium">
                    <span class="material-symbols-outlined">monitoring</span>
                    ç³»çµ±ç›£æ§
                  </h2>
                  <p class="md-typescale-body-medium section-subtitle">
                    æ‡‰ç”¨ç¨‹å¼ç‹€æ…‹å’Œæ•ˆèƒ½ç›£æ§
                  </p>
                </div>

                <button id="refresh-system-btn" class="md-filled-button">
                  <span class="material-symbols-outlined">refresh</span>
                  <span>åˆ·æ–°è³‡è¨Š</span>
                </button>
              </div>

              <!-- System Info Grid -->
              <div class="md-system-grid">
                <!-- Claude API Status Card -->
                <div class="md-info-card md-elevation-level1">
                  <div class="md-card-header">
                    <span class="material-symbols-outlined">api</span>
                    <h3 class="md-typescale-title-medium">Claude API ç‹€æ…‹</h3>
                  </div>
                  <div class="md-card-content" id="detailed-cooldown-info">
                    <div class="md-loading-skeleton">
                      <div class="md-skeleton-text"></div>
                      <div class="md-skeleton-text"></div>
                    </div>
                  </div>
                </div>

                <div class="md-info-card md-elevation-level1">
                  <div class="md-card-header">
                    <span class="material-symbols-outlined">info</span>
                    <h3 class="md-typescale-title-medium">æ‡‰ç”¨è³‡è¨Š</h3>
                  </div>
                  <div class="md-card-content" id="app-info">
                    <div class="md-loading-skeleton">
                      <div class="md-skeleton-text"></div>
                      <div class="md-skeleton-text"></div>
                    </div>
                  </div>
                </div>

                <div class="md-info-card md-elevation-level1">
                  <div class="md-card-header">
                    <span class="material-symbols-outlined">memory</span>
                    <h3 class="md-typescale-title-medium">æ•ˆèƒ½ç›£æ§</h3>
                  </div>
                  <div class="md-card-content" id="performance-info">
                    <div class="md-loading-skeleton">
                      <div class="md-skeleton-text"></div>
                      <div class="md-skeleton-text"></div>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- Testing Tab -->
            <section id="testing-tab" class="md-tab-panel">
              <div class="md-section-header">
                <div class="section-title">
                  <h2 class="md-typescale-headline-medium">
                    <span class="material-symbols-outlined">science</span>
                    æ ¸å¿ƒæ¨¡çµ„æ¸¬è©¦
                  </h2>
                  <p class="md-typescale-body-medium section-subtitle">
                    å››å¤§æ ¸å¿ƒæ¨¡çµ„åŠŸèƒ½æ¸¬è©¦ä»‹é¢
                  </p>
                </div>
              </div>

              <!-- å››å¤§æ ¸å¿ƒæ¨¡çµ„æ¸¬è©¦ç•Œé¢ -->
              <!-- CORE-001: ccusage API æ•´åˆæ¨¡çµ„ -->
              <section
                class="core-module-section"
                data-testid="core-001-section"
              >
                <h3 class="md-typescale-title-medium">
                  <span class="material-symbols-outlined">analytics</span>
                  CORE-001: ccusage API æ•´åˆæ¨¡çµ„
                </h3>
                <button
                  id="check-usage-btn"
                  data-testid="check-usage"
                  class="md-filled-button"
                >
                  <span class="material-symbols-outlined">update</span>
                  æª¢æŸ¥ä½¿ç”¨é‡
                </button>
                <div
                  id="usage-info"
                  data-testid="usage-info"
                  class="info-panel"
                  style="display: none"
                >
                  <div data-testid="remaining-minutes">å‰©é¤˜åˆ†é˜: --</div>
                  <div data-testid="usage-source">ä¾†æº: --</div>
                  <div data-testid="cache-indicator" style="display: none">
                    ä½¿ç”¨å¿«å–æ•¸æ“š
                  </div>
                  <div data-testid="fallback-indicator" style="display: none">
                    ä½¿ç”¨å›é€€æ–¹æ³•
                  </div>
                </div>
              </section>

              <!-- CORE-002: å®‰å…¨åŸ·è¡Œç³»çµ± -->
              <section
                class="core-module-section"
                data-testid="core-002-section"
              >
                <h3 class="md-typescale-title-medium">
                  <span class="material-symbols-outlined">security</span>
                  CORE-002: å®‰å…¨åŸ·è¡Œç³»çµ±
                </h3>
                <div class="md-form-group">
                  <textarea
                    id="prompt-input"
                    data-testid="prompt-input"
                    class="md-text-field"
                    placeholder="è¼¸å…¥æ¸¬è©¦æç¤º..."
                    rows="3"
                  ></textarea>
                </div>
                <div class="checkbox-group">
                  <label>
                    <input
                      type="checkbox"
                      id="skip-permissions"
                      data-testid="skip-permissions"
                    />
                    è·³éæ¬Šé™æª¢æŸ¥
                  </label>
                  <label>
                    <input type="checkbox" id="dry-run" data-testid="dry-run" />
                    ä¹¾é‹è¡Œæ¨¡å¼
                  </label>
                  <label>
                    <input
                      type="checkbox"
                      id="enable-security"
                      data-testid="enable-security"
                      checked
                    />
                    å•Ÿç”¨å®‰å…¨æª¢æŸ¥
                  </label>
                </div>
                <button
                  id="execute-prompt-btn"
                  data-testid="execute-prompt"
                  class="md-filled-button"
                >
                  <span class="material-symbols-outlined">play_arrow</span>
                  åŸ·è¡Œæç¤º
                </button>
                <div
                  id="security-warning"
                  data-testid="security-warning"
                  class="warning-panel"
                  style="display: none"
                >
                  <span class="material-symbols-outlined">warning</span>
                  åµæ¸¬åˆ°å±éšªæ¨¡å¼
                </div>
                <div
                  id="permission-skipped"
                  data-testid="permission-skipped"
                  class="info-panel"
                  style="display: none"
                >
                  <span class="material-symbols-outlined">info</span>
                  å·²è·³éæ¬Šé™æª¢æŸ¥
                </div>
                <div
                  id="dry-run-result"
                  data-testid="dry-run-result"
                  class="info-panel"
                  style="display: none"
                >
                  <span class="material-symbols-outlined">preview</span>
                  ä¹¾é‹è¡Œçµæœ
                </div>
                <div
                  id="execution-complete"
                  data-testid="execution-complete"
                  class="success-panel"
                  style="display: none"
                >
                  <span class="material-symbols-outlined">check_circle</span>
                  åŸ·è¡Œå®Œæˆ
                </div>
                <button
                  id="view-audit-log-btn"
                  data-testid="view-audit-log"
                  class="md-text-button"
                >
                  <span class="material-symbols-outlined">description</span>
                  æŸ¥çœ‹å¯©è¨ˆæ—¥èªŒ
                </button>
                <div
                  id="audit-log"
                  data-testid="audit-log"
                  class="log-panel"
                  style="display: none"
                >
                  <!-- å¯©è¨ˆæ—¥èªŒå…§å®¹ -->
                </div>
              </section>

              <!-- CORE-003: è‡ªé©æ‡‰ç›£æ§ç³»çµ± -->
              <section
                class="core-module-section"
                data-testid="core-003-section"
              >
                <h3 class="md-typescale-title-medium">
                  <span class="material-symbols-outlined">monitor</span>
                  CORE-003: è‡ªé©æ‡‰ç›£æ§ç³»çµ±
                </h3>
                <div
                  id="monitor-status"
                  data-testid="monitor-status"
                  class="status-display"
                >
                  ç•¶å‰æ¨¡å¼: Normal
                </div>
                <div
                  id="monitor-interval"
                  data-testid="monitor-interval"
                  class="info-display"
                >
                  æª¢æŸ¥é–“éš”: 10åˆ†é˜
                </div>
                <div class="button-group">
                  <button
                    id="start-monitoring-btn"
                    data-testid="start-monitoring"
                    class="md-filled-button"
                  >
                    <span class="material-symbols-outlined">play_arrow</span>
                    å•Ÿå‹•ç›£æ§
                  </button>
                  <button
                    id="update-monitor-btn"
                    data-testid="update-monitor"
                    class="md-outlined-button"
                  >
                    <span class="material-symbols-outlined">update</span>
                    æ›´æ–°ç›£æ§
                  </button>
                  <button
                    id="check-monitor-btn"
                    data-testid="check-monitor"
                    class="md-text-button"
                  >
                    <span class="material-symbols-outlined">check</span>
                    æª¢æŸ¥ç‹€æ…‹
                  </button>
                  <button
                    id="trigger-monitor-event-btn"
                    data-testid="trigger-monitor-event"
                    class="md-text-button"
                  >
                    <span class="material-symbols-outlined">event</span>
                    è§¸ç™¼äº‹ä»¶
                  </button>
                  <button
                    id="view-stats-btn"
                    data-testid="view-stats"
                    class="md-text-button"
                  >
                    <span class="material-symbols-outlined">bar_chart</span>
                    æŸ¥çœ‹çµ±è¨ˆ
                  </button>
                </div>
                <div
                  id="monitor-stats"
                  data-testid="monitor-stats"
                  class="stats-panel"
                  style="display: none"
                >
                  <!-- ç›£æ§çµ±è¨ˆå…§å®¹ -->
                </div>
              </section>

              <!-- CORE-004: æ™ºèƒ½æ’ç¨‹ç³»çµ± -->
              <section
                class="core-module-section"
                data-testid="core-004-section"
              >
                <h3 class="md-typescale-title-medium">
                  <span class="material-symbols-outlined">schedule</span>
                  CORE-004: æ™ºèƒ½æ’ç¨‹ç³»çµ±
                </h3>
                <div class="md-form-group">
                  <textarea
                    id="schedule-prompt"
                    data-testid="schedule-prompt"
                    class="md-text-field"
                    placeholder="è¼¸å…¥æ’ç¨‹æç¤º..."
                    rows="2"
                  ></textarea>
                </div>
                <div class="md-form-group">
                  <input
                    type="datetime-local"
                    id="schedule-time"
                    data-testid="schedule-time"
                    class="md-text-field"
                  />
                </div>
                <div class="md-form-group">
                  <select
                    id="timezone-select"
                    data-testid="timezone-select"
                    class="md-select"
                  >
                    <option value="Asia/Taipei">Asia/Taipei</option>
                    <option value="America/New_York">America/New_York</option>
                    <option value="Europe/London">Europe/London</option>
                  </select>
                </div>
                <div class="md-form-group">
                  <input
                    type="number"
                    id="required-minutes"
                    data-testid="required-minutes"
                    class="md-text-field"
                    placeholder="æ‰€éœ€åˆ†é˜æ•¸"
                    min="1"
                  />
                </div>
                <div class="button-group">
                  <button
                    id="create-schedule-btn"
                    data-testid="create-schedule"
                    class="md-filled-button"
                  >
                    <span class="material-symbols-outlined">event</span>
                    å»ºç«‹æ’ç¨‹
                  </button>
                  <button
                    id="analyze-efficiency-btn"
                    data-testid="analyze-efficiency"
                    class="md-outlined-button"
                  >
                    <span class="material-symbols-outlined">analytics</span>
                    æ•ˆç‡åˆ†æ
                  </button>
                </div>
                <div
                  id="schedule-info"
                  data-testid="schedule-info"
                  class="info-panel"
                  style="display: none"
                >
                  æ’ç¨‹ä¿¡æ¯å°‡é¡¯ç¤ºåœ¨é€™è£¡
                </div>
                <div
                  id="block-protection"
                  data-testid="block-protection"
                  class="warning-panel"
                  style="display: none"
                >
                  <span class="material-symbols-outlined">warning</span>
                  5å°æ™‚å¡Šä¿è­·å·²å•Ÿå‹•
                </div>
                <div
                  id="efficiency-analysis"
                  data-testid="efficiency-analysis"
                  class="info-panel"
                  style="display: none"
                >
                  æ•ˆç‡åˆ†æçµæœ
                </div>
                <div
                  id="working-hours-warning"
                  data-testid="working-hours-warning"
                  class="warning-panel"
                  style="display: none"
                >
                  <span class="material-symbols-outlined">schedule</span>
                  éå·¥ä½œæ™‚é–“è­¦å‘Š
                </div>
                <div
                  id="retry-indicator"
                  data-testid="retry-indicator"
                  class="info-panel"
                  style="display: none"
                >
                  <span class="material-symbols-outlined">retry</span>
                  ä»»å‹™é‡è©¦ä¸­
                </div>
                <div
                  id="retry-info"
                  data-testid="retry-info"
                  class="info-panel"
                  style="display: none"
                >
                  é‡è©¦ä¿¡æ¯
                </div>
              </section>

              <!-- æ•´åˆæ¸¬è©¦ -->
              <section
                class="core-module-section"
                data-testid="integration-section"
              >
                <h3 class="md-typescale-title-medium">
                  <span class="material-symbols-outlined"
                    >integration_instructions</span
                  >
                  æ•´åˆæ¸¬è©¦
                </h3>
                <div
                  id="integration-status"
                  data-testid="integration-status"
                  class="status-display"
                >
                  å››å¤§æ¨¡çµ„å”åŒç‹€æ…‹: æº–å‚™å°±ç·’
                </div>
                <div class="button-group">
                  <button
                    id="test-integration-btn"
                    data-testid="test-integration"
                    class="md-filled-button"
                  >
                    <span class="material-symbols-outlined">sync</span>
                    æ¸¬è©¦æ•´åˆ
                  </button>
                  <button
                    id="check-consistency-btn"
                    data-testid="check-consistency"
                    class="md-outlined-button"
                  >
                    <span class="material-symbols-outlined">verified</span>
                    æª¢æŸ¥ä¸€è‡´æ€§
                  </button>
                </div>
                <div
                  id="module-error"
                  data-testid="module-error"
                  class="error-panel"
                  style="display: none"
                >
                  <span class="material-symbols-outlined">error</span>
                  æ¨¡çµ„éŒ¯èª¤
                </div>
                <div
                  id="consistency-result"
                  data-testid="consistency-result"
                  class="info-panel"
                  style="display: none"
                >
                  ä¸€è‡´æ€§æª¢æŸ¥çµæœ
                </div>
              </section>
            </section>
          </div>
        </main>
      </div>
    </div>

    <!-- Material Design Modals -->
    <!-- Create Prompt Modal -->
    <dialog id="prompt-modal" class="md-dialog">
      <div class="md-dialog-container md-elevation-level5">
        <div class="md-dialog-header">
          <h3 class="md-typescale-title-large">
            <span class="material-symbols-outlined">chat</span>
            å»ºç«‹æ–° Prompt
          </h3>
          <button class="md-icon-button close-btn" aria-label="é—œé–‰">
            <span class="material-symbols-outlined">close</span>
          </button>
        </div>

        <form id="prompt-form" class="md-dialog-content">
          <div class="md-form-group">
            <label for="prompt-title" class="md-typescale-label-large">
              <span class="material-symbols-outlined">title</span>
              æ¨™é¡Œ
            </label>
            <input
              type="text"
              id="prompt-title"
              name="prompt-title"
              class="md-text-field"
              required
              placeholder="è¼¸å…¥ Prompt æ¨™é¡Œ"
            />
          </div>

          <div class="md-form-group">
            <label for="prompt-content" class="md-typescale-label-large">
              <span class="material-symbols-outlined">description</span>
              å…§å®¹
            </label>
            <textarea
              id="prompt-content"
              name="prompt-content"
              class="md-text-field md-textarea"
              required
              placeholder="è¼¸å…¥ Prompt å…§å®¹ï¼Œæ”¯æ´ Claude Code èªæ³• (@file.md)"
              rows="6"
            ></textarea>
          </div>

          <div class="md-form-group">
            <label for="prompt-tags" class="md-typescale-label-large">
              <span class="material-symbols-outlined">tag</span>
              æ¨™ç±¤
            </label>
            <input
              type="text"
              id="prompt-tags"
              name="prompt-tags"
              class="md-text-field"
              placeholder="ä»¥é€—è™Ÿåˆ†éš”çš„æ¨™ç±¤"
            />
          </div>
        </form>

        <div class="md-dialog-actions">
          <button type="button" class="md-text-button" data-close>å–æ¶ˆ</button>
          <button type="submit" form="prompt-form" class="md-filled-button">
            <span class="material-symbols-outlined">save</span>
            å„²å­˜
          </button>
        </div>
      </div>
    </dialog>

    <!-- Create Job Modal -->
    <dialog id="job-modal" class="md-dialog">
      <div class="md-dialog-container md-elevation-level5">
        <div class="md-dialog-header">
          <h3 class="md-typescale-title-large">
            <span class="material-symbols-outlined">add_task</span>
            å»ºç«‹æ’ç¨‹ä»»å‹™
          </h3>
          <button class="md-icon-button close-btn" aria-label="é—œé–‰">
            <span class="material-symbols-outlined">close</span>
          </button>
        </div>

        <form id="job-form" class="md-dialog-content">
          <div class="md-form-group">
            <label for="job-prompt" class="md-typescale-label-large">
              <span class="material-symbols-outlined">chat</span>
              é¸æ“‡ Prompt
            </label>
            <select
              id="job-prompt"
              name="job-prompt"
              class="md-select"
              required
            >
              <option value="">è«‹é¸æ“‡ Prompt</option>
            </select>
          </div>

          <div class="md-form-group">
            <label for="job-cron" class="md-typescale-label-large">
              <span class="material-symbols-outlined">schedule</span>
              Cron è¡¨é”å¼
            </label>
            <input
              type="text"
              id="job-cron"
              name="job-cron"
              class="md-text-field"
              required
              placeholder="0 9 * * * (æ¯æ—¥ 9 é»)"
            />
            <div class="md-supporting-text">
              <span class="material-symbols-outlined">help</span>
              æ ¼å¼ï¼šåˆ† æ™‚ æ—¥ æœˆ é€±ï¼Œä¾‹å¦‚ "0 9 * * *" è¡¨ç¤ºæ¯æ—¥ 9 é»åŸ·è¡Œ
            </div>
          </div>
        </form>

        <div class="md-dialog-actions">
          <button type="button" class="md-text-button" data-close>å–æ¶ˆ</button>
          <button type="submit" form="job-form" class="md-filled-button">
            <span class="material-symbols-outlined">schedule</span>
            å»ºç«‹ä»»å‹™
          </button>
        </div>
      </div>
    </dialog>

    <!-- Material Design Snackbar Container -->
    <div id="snackbar-container" class="md-snackbar-container"></div>

    <!-- Scripts -->
    <script src="js/unified-api-client.js"></script>
    <script src="js/prompt-executor.js"></script>
    <script src="main.js"></script>
  </body>
</html>
