# GUI 使用指南

Claude Night Pilot 桌面應用程式提供直觀的圖形介面，讓您輕鬆管理 Claude Code 自動化任務。

## 啟動應用程式

### 開發模式
```bash
npm run tauri dev
```

### 生產模式
```bash
# 建置應用程式
npm run tauri build

# 執行應用程式
./src-tauri/target/release/claude-night-pilot
```

## 介面概覽

### 主視窗佈局

**導覽列**：
- 🏠 首頁 - 儀表板總覽
- 📝 Prompts - Prompt 模板管理  
- ⏰ 排程 - 任務排程管理
- 📊 結果 - 執行結果查看
- ⚙️ 設定 - 系統設定

**狀態列**：
- Claude Code 連線狀態
- API 使用情況
- 系統健康狀態

## Prompt 管理

### 建立新 Prompt

1. 點選「Prompts」標籤
2. 按下「新增 Prompt」按鈕
3. 填寫 Prompt 資訊：
   - **名稱**: Prompt 的識別名稱
   - **內容**: 完整的 Prompt 文字
   - **標籤**: 分類標籤 (可選)
   - **描述**: 用途說明 (可選)

### Prompt 功能

**立即執行**：
- 點選 Prompt 卡片上的「執行」按鈕
- 可選擇執行模式：
  - 🚀 標準模式
  - 🔧 除錯模式  
  - 🛡️ 安全模式

**編輯與管理**：
- ✏️ 編輯：修改 Prompt 內容
- 📋 複製：建立副本
- 🗂️ 分類：新增/移除標籤
- 🗑️ 刪除：移除 Prompt

### @ 符號文件引用

GUI 支援 Claude Code 的 @ 符號語法：

```
請分析 @src/main.js 檔案的效能問題
檢查 @docs/ 目錄下的文檔完整性  
優化 @*.css 檔案的載入速度
```

**檔案瀏覽器整合**：
- 點選「瀏覽檔案」按鈕選擇檔案
- 自動產生 @ 符號引用語法
- 支援多檔案選擇

## 排程管理

### 建立排程任務

1. 進入「排程」頁面
2. 點選「新增任務」
3. 設定排程參數：
   - **Prompt**: 選擇要執行的 Prompt
   - **Cron 表達式**: 設定執行時間
   - **執行模式**: 選擇執行選項
   - **通知設定**: 完成後通知方式

### Cron 表達式助手

GUI 提供視覺化 Cron 編輯器：

**常用範本**：
- 每小時： `0 * * * *`
- 每日 9 AM： `0 9 * * *`
- 工作日 6 PM： `0 18 * * 1-5`
- 每月 1 號： `0 9 1 * *`

**即時預覽**：顯示接下來 5 次執行時間

### 任務監控

**任務狀態**：
- 🟢 等待中：任務已排程，等待執行
- 🔵 執行中：任務正在執行
- ✅ 已完成：執行成功
- ❌ 失敗：執行出錯
- ⏸️ 暫停：任務已暫停

**操作功能**：
- ▶️ 立即執行
- ⏸️ 暫停/恢復
- ⏹️ 停止任務
- 📋 查看日誌

## 結果查看

### 執行歷史

**結果列表**顯示：
- 執行時間與持續時間
- Prompt 名稱與狀態
- 輸出摘要
- 使用的 Token 數量

**篩選與搜尋**：
- 📅 依日期範圍篩選
- 🏷️ 依標籤篩選  
- 🔍 全文搜尋結果
- 📊 依狀態分類

### 詳細結果檢視

點選任一結果項目，查看完整資訊：

**基本資訊**：
- 執行時間與 ID
- 使用的 Prompt
- 執行模式與參數

**輸出內容**：
- Claude 回應全文
- 語法高亮顯示
- 可複製/匯出

**執行指標**：
- Token 使用量
- 執行時間
- API 成本估算

## 系統設定

### 一般設定

**主題**：
- 🌙 深色模式
- ☀️ 淺色模式  
- 🔄 自動切換

**語言**：
- 🇹🇼 繁體中文
- 🇺🇸 English

### Claude Code 設定

**執行選項**：
- 預設超時時間
- 重試次數設定
- 權限確認設定

**安全設定**：
- 危險操作確認
- 執行前檢查
- 審計日誌等級

### 通知設定

**完成通知**：
- 🔔 系統通知
- 📧 Email 通知
- 🎵 聲音提醒

**錯誤通知**：
- 立即通知失敗
- 多次失敗警告
- 系統異常通知

## 快速鍵

### 全域快速鍵
- `Ctrl+N`: 新增 Prompt
- `Ctrl+S`: 儲存目前項目  
- `Ctrl+R`: 重新整理
- `F5`: 執行選中 Prompt

### 導覽快速鍵
- `Ctrl+1`: 首頁
- `Ctrl+2`: Prompts
- `Ctrl+3`: 排程
- `Ctrl+4`: 結果

## 疑難排解

### GUI 無法啟動
```bash
# 檢查相依性
npm install

# 重新建置
npm run tauri build
```

### 介面異常
```bash
# 清除設定檔
rm ~/.config/claude-night-pilot/settings.json

# 重設資料庫
./cnp reset --gui-only
```

### 效能問題
- 關閉不必要的標籤頁
- 清理執行歷史記錄
- 啟用精簡模式

---

更多詳細功能請參閱 [CLI 使用指南](cli-usage.md) 或 [常見問題](../faq.md)。